{% extends 'base.html' %}

{% block title %}–î–æ–±–∞–≤–∏—Ç—å —Ü–∏—Ç–∞—Ç—É{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">
        <div class="card shadow">
            <div class="card-header bg-success text-white">
                <h4 class="mb-0">‚ûï –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é —Ü–∏—Ç–∞—Ç—É</h4>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="mb-3">
                        <label for="id_text" class="form-label">–¢–µ–∫—Å—Ç —Ü–∏—Ç–∞—Ç—ã *</label>
                        {{ form.text }}
                        {% if form.text.errors %}
                            <div class="text-danger">{{ form.text.errors }}</div>
                        {% endif %}
                    </div>

                    <div class="mb-3">
                        <label for="id_source" class="form-label">–ò—Å—Ç–æ—á–Ω–∏–∫ *</label>
                        {{ form.source }}
                        {% if form.source.errors %}
                            <div class="text-danger">{{ form.source.errors }}</div>
                        {% endif %}
                        <div class="form-text">
                            <a href="{% url 'add_source' %}" target="_blank">–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫</a>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="id_weight" class="form-label">–í–µ—Å (1-10) *</label>
                        {{ form.weight }}
                        {% if form.weight.errors %}
                            <div class="text-danger">{{ form.weight.errors }}</div>
                        {% endif %}
                        <div class="form-text">
                            –ß–µ–º –≤—ã—à–µ –≤–µ—Å, —Ç–µ–º —á–∞—â–µ —Ü–∏—Ç–∞—Ç–∞ –±—É–¥–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è
                        </div>
                    </div>

                    <div class="d-grid gap-2">
                        <button type="submit" class="btn btn-success btn-lg">
                            üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ü–∏—Ç–∞—Ç—É
                        </button>
                        <a href="{% url 'random_quote' %}" class="btn btn-outline-secondary">
                            ‚Üê –ù–∞–∑–∞–¥
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
// –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å—ã Bootstrap –∫ –ø–æ–ª—è–º —Ñ–æ—Ä–º—ã
document.addEventListener('DOMContentLoaded', function() {
    const inputs = document.querySelectorAll('input, textarea, select');
    inputs.forEach(input => {
        input.classList.add('form-control');
    });
    
    // –î–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–π –æ–±–ª–∞—Å—Ç–∏ –¥–µ–ª–∞–µ–º –±–æ–ª—å—à–µ —Å—Ç—Ä–æ–∫
    const textarea = document.getElementById('id_text');
    if (textarea) {
        textarea.rows = 4;
    }
});
</script>
{% endblock %}